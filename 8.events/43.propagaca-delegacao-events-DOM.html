<!DOCTYPE html>
<html>
	<head>
		<title>Curso Javascript Completo 2018</title>
        <meta charset="utf-8">
    </head>
    <body>
            <h1>Curso de Javascript - Events - DOM</h1>
            
            <p>Lorem ipsum lorem ipsum lorem ipsum</p>
            
            <div class="constainer">
                <button id="btn1" onclick="clicar()">botao 1</button>
                <br/>
                <button id="btn2">botao 2</button>
                <br/>
                <button id="btn3">botao 3</button>
                <br/>
            </div>
            
            <div class="container">
               <h1>propagacao de eventos</h1>
               
               <div id="d1" style="background-color: red; padding: 25px;">
                  Texto dentro da div
                   <span style="background-color: yellow;">Texto dentro da span</span>
               </div>
                
            </div>
            
            <div class="container">
               <h1>delegacao de eventos</h1>
               <ul>
                   <li>lista 1</li>
                   <li>lista 2</li>
                   <li>lista 3</li>
               </ul>
                
                
            </div>
    
        <script>
            
            var $btn2 = document.getElementById('btn2');
            var $btn3 = document.getElementById('btn3');
            
            btn2.onclick = clicar;
            
            function clicar(){
                alert('clicou com onclick level 0');
            }
            
            
            btn3.addEventListener("click", function(){
                alert('Clicou com DOM level 2 usando addEventListener');
            });
            
            btn3.addEventListener("click", function(){
                alert('Clicou com DOM level 2 usando addEventListener em outro evento');
            });
            
            // Propagacao de eventos
            var $d1 = document.querySelector('#d1');
            var $d1Span = document.querySelector('#d1 span');
            
            $d1.addEventListener('click', function(e){
                console.log('click no $d1');
                e.stopPropagation();
            }, false);
            
            $d1Span.addEventListener('click', function(){
                console.log('click no $d1Span');
            }, false);
            
            document.addEventListener('click', function(e){
                console.log('click no document');  
                // console.log(evt.currentTarget);
                // console.log(evt.target);
                // console.log(this);
            }, false);
            
            // Delegacao de eventos
            var $ul = document.querySelector('ul');
            var $lis = document.querySelectorAll('li');
            
            $lis[0].addEventListener('click', function(e){
                console.log('click na li');
            });
            
            
            
//            var x = 0 ;
//            while($lis[x]){
//                $lis[x].addEventListener('click', function(e){
//                    e.stopPropagation();
//                    console.log('clicou nas lis');
//                    
//                });
//                x++;
//            }

            $ul.addEventListener('click', function(e){
                e.stopPropagation();
                console.log(this);
                console.log(e.target);
                console.log(e.currentTarget);
                
            })
            
            
            
            
            
            
                   
        </script>
        
    </body>
</html>